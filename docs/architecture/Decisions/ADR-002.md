ADR-002: Система рекомендацій

Статус: [Запропоновано / Прийнято / Відхилено]
Дата: 01.10.2025

Контекст:
* Потрібні персональні списки фільмів на основі оцінок/лайків/жанрових уподобань.
* Обмеження по latency для мобільної мережі (PERF-003 ≤5с).
* Необхідні метрики якості: (CTR/precision@k), частота оновлення рекомендацій [кожні X хв] (RECO-001).

Рішення: 
Batch: періодичне формування top-N per user за колаборативною фільтрацією (item-item cosine/ALS). Перерахунок кожні X хв.
Online rerank: легке переранжування списку за останніми діями користувача.
Зберігання: Redis/KV зі списками рекомендацій (TTL [..]), fallback — популярне/жанрове.

Наслідки:
+ Стабільний SLA сторінки рекомендацій (PERF-003)
+ Баланс якості/складності
- Рекомендації не миттєво реагують на твої дії, є лаг у X хв
- Потрібні черги/крон-джоби, моніторинг якості (OBS-001)

Розглянуті альтернативи:
* Лише контент-бейсд (жанри/теги) — стабільно, але слабша персоналізація.

* Онлайн/стрімінгові рекомендації (Kafka + онлайн-обучення) — максимум якості, висока складність/вартість.

* Сторонній ML-сервіс — швидкий старт, але vendor lock-in та обмежений контроль.
