ADR-003: Обробка медіа (зображення постерів, аватарів)

Статус: [Запропоновано / Прийнято / Відхилено]
Дата: 01.10.2025

Контекст:
Потрібно: показувати постери фільмів та аватари користувачів.
Вимоги: швидке відображення на мобільній мережі, економія трафіку, помірні витрати зберігання, відповідність ліцензіям.
Обмеження: [хмара/локально], [бюджет], [політика зберігання персональних даних].

Рішення: 
Де зберігаємо: не прямо на нашому сервері, а у спеціальному «сховищі файлів» (щось на зразок Google Drive, тільки для програми). Так легше масштабувати і робити копії.
Як віддаємо: ставимо «проміжний сервер для картинок» (CDN), щоб картинки вантажились швидко для всіх користувачів і не перевантажували основний сайт.
Обробка картинок: якщо користувач завантажив велике фото, система сама підрізає/зменшує його «на льоту», щоб було зручно показувати (наприклад, маленький аватар у списку чи більший — у профілі).
Безпека: не приймати дивні або занадто великі файли, видаляти приховані дані (EXIF), щоб не зливати приватну інфу (типу геолокації).
Ліцензії: якщо ми беремо постери з зовнішнього сайту (TMDb), то зберігаємо/кешуємо їх так, щоб не порушувати правила.

Наслідки:
+ Швидкі зображення через CDN, контроль витрат через S3-лайф-цикли
+ Єдині URL і стандартизовані розміри (меньше layout-shift)
- Додатковий сервіс трансформацій (обслуговування, безпека)
- Пильний контроль ліцензій і джерел медіа

Розглянуті альтернативи:
* Локальне зберігання на сервері — просто, але складно масштабувати/резервувати; ризик втрати при збої.

* Пряме посилання на зовнішні постери (без кешу) — нуль витрат на зберігання, але залежність і повільніші відповіді/відсутність контролю доступності.

* Статична попередня генерація всіх розмірів — менше runtime-навантаження, більше витрат сховища.
